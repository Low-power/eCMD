// hwp_ffdc_classes.H
// This file is generated by the perl script parseErrorInfo.pl

#ifndef FAPI2_HWP_FFDC_CLASSES_H_
#define FAPI2_HWP_FFDC_CLASSES_H_

#include <ffdc.H>
#include <buffer.H>
#include <error_info.H>
#include <utils.H>
#include <hwp_error_info.H>
#include <collect_reg_ffdc.H>
/**
 * @brief FFDC gathering classes
 */
namespace fapi2
{

class rc_fapi2_buffer
{
  public:
    rc_fapi2_buffer(fapi2::errlSeverity_t i_sev = fapi2::FAPI2_ERRL_SEV_UNRECOVERABLE, fapi2::ReturnCode& i_rc = fapi2::current_err):
        iv_rc(i_rc),
        iv_sev(i_sev)
    { FAPI_ERR("fapi2 error from a buffer operation"); }

    template< typename T >
    rc_fapi2_buffer& set_buffer(const fapi2::buffer<T>& i_value)
    {BUFFER.ptr() = &i_value(); BUFFER.size() = i_value.template getLength<uint8_t>(); return *this;}

    void execute(void)
    {
        FAPI_SET_HWP_ERROR(iv_rc, RC_FAPI2_BUFFER);
        fapi2::logError(iv_rc, iv_sev);
    }

  private:
    fapi2::ffdc_t BUFFER;
    fapi2::ReturnCode& iv_rc;
    fapi2::errlSeverity_t iv_sev;
};




};


#endif
